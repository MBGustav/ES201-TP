\subsubsection{Question 3 - Localité de références}

\begin{formal}
\textbf{Énoncé (Q3).}
Examinez le fichier d'options de la plateforme se.py, puis déterminez et présentez sous forme de tableau les valeurs par défaut des paramètres suivants:
\begin{itemize}
    \item Cache de données de niveau 1: associativité, taille du cache, taille de la ligne
    \item Cache d'instructions de niveau 1: associativité, taille du cache, taille de la ligne
    \item Cache unifié de niveau 2: associativité, taille du cache, taille de la ligne
\end{itemize}
\end{formal}



Le fichier \textbf{commons.py} est presenté dans le Code~\ref{lst:options-se}. Ces parametres sont définis dans la section "Cache Options" du fichier d'options de la plateforme se.py. En examinant ce fichier, on peut identifier les options suivantes qui correspondent aux paramètres demandés:

\begin{lstlisting}[language=Python, caption=Extrait du fichier d'options de la plateforme se.py, label={lst:options-se}]
    # (...)
    # Cache Options
    parser.add_option("--external-memory-system", type="string",
                      help="use external ports of this port_type for caches")
    parser.add_option("--caches", action="store_true")
    parser.add_option("--l2cache", action="store_true")
    parser.add_option("--fastmem", action="store_true")
    parser.add_option("--num-dirs", type="int", default=1)
    parser.add_option("--num-l2caches", type="int", default=1)
    parser.add_option("--num-l3caches", type="int", default=1)
    parser.add_option("--l1d_size", type="string", default="64kB")
    parser.add_option("--l1i_size", type="string", default="32kB")
    parser.add_option("--l2_size", type="string", default="2MB")
    parser.add_option("--l3_size", type="string", default="16MB")
    parser.add_option("--l1d_assoc", type="int", default=2)
    parser.add_option("--l1i_assoc", type="int", default=2)
    parser.add_option("--l2_assoc", type="int", default=8)
    parser.add_option("--l3_assoc", type="int", default=16)
    parser.add_option("--cacheline_size", type="int", default=64)
    # (...)
\end{lstlisting}

Dans l'extrait du fichier d'options, on trouve les paramètres suivants avec leurs valeurs par défaut sont définis comme suit dans le Tableau~\ref{tab:cache-defaults}:


\begin{table}[h]
\centering
    \begin{tabular}{|l|c|c|c|}
    \hline
    \textbf{Cache} & \textbf{Associativité} & \textbf{Taille du cache} & \textbf{Taille de ligne} \\
    \hline
    \textbf{L1 Data (L1D)} & 2-way & 64 kB & 64 B \\
    \hline
    \textbf{L1 Instruction (L1I)} & 2-way & 32 kB & 64 B \\
    \hline
    \textbf{L2 Unifié} & 8-way & 2 MB & 64 B \\
    \hline
    \end{tabular}
\caption{Paramètres par défaut des caches}
\label{tab:cache-defaults}
\end{table}





